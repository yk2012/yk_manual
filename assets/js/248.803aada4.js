(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{818:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("把单独的一个功能封装到一个模块（文件）中，模块之间相互隔离，但是可以通过特定的接口公开内部成员，也可以以来别的模块")])]),t._v(" "),a("h2",{attrs:{id:"模块化的好处"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化的好处"}},[t._v("#")]),t._v(" 模块化的好处")]),t._v(" "),a("ol",[a("li",[t._v("防止命名冲突")]),t._v(" "),a("li",[t._v("代码复用，提高效率")]),t._v(" "),a("li",[t._v("高维护性")])]),t._v(" "),a("h2",{attrs:{id:"模块化的演变过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化的演变过程"}},[t._v("#")]),t._v(" 模块化的演变过程")]),t._v(" "),a("ol",[a("li",[t._v("文件划分")])]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("<script><\/script>")]),t._v("标签来使用不同的js文件（完全依靠约定）")]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ul",[a("li",[t._v("污染全局作用域")]),t._v(" "),a("li",[t._v("命名冲突问题")]),t._v(" "),a("li",[t._v("无法管理模块之间的依赖关系，需要手动管理加载顺序")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("命名空间模式")])]),t._v(" "),a("p",[t._v("将每个模块包裹成全局对象的形式")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("立即执行函数 IIFE")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-模块化规范产品"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-模块化规范产品"}},[t._v("#")]),t._v(" 3. 模块化规范产品")]),t._v(" "),a("h2",{attrs:{id:"模块化规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化规范"}},[t._v("#")]),t._v(" 模块化规范")]),t._v(" "),a("h3",{attrs:{id:"commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[t._v("#")]),t._v(" CommonJS")]),t._v(" "),a("p",[t._v("（Node端）")]),t._v(" "),a("p",[t._v("以同步模式加载模块，启动时加载模块，执行时使用模块")]),t._v(" "),a("ul",[a("li",[t._v("一个文件就是一个模块")]),t._v(" "),a("li",[t._v("每个模块都有单独的作用域")]),t._v(" "),a("li",[t._v("通过module.exports导出成员")]),t._v(" "),a("li",[t._v("通过require函数载入模块")])]),t._v(" "),a("p",[t._v("node.js/Browserify")]),t._v(" "),a("ul",[a("li",[t._v("模块分为："),a("code",[t._v("单文件模块")]),t._v(" 与 "),a("code",[t._v("包")])]),t._v(" "),a("li",[t._v("模块成员导出："),a("code",[t._v("module.exports")]),t._v(" 和 "),a("code",[t._v("exports")])]),t._v(" "),a("li",[t._v("模块成员导入："),a("code",[t._v("require('模块标识符')")])])]),t._v(" "),a("h3",{attrs:{id:"amd-asynchronous-module-definition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amd-asynchronous-module-definition"}},[t._v("#")]),t._v(" AMD (Asynchronous Module Definition)")]),t._v(" "),a("p",[t._v("（浏览器端）\nRequire.js")]),t._v(" "),a("p",[t._v("定义模块")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模块名，依赖项，函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'module1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jquery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./module2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" module2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导出成员")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'200px'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("module2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("加载模块")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'module1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  module1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("使用起来复杂")]),t._v(" "),a("li",[t._v("模块js文件请求频繁")])]),t._v(" "),a("h3",{attrs:{id:"cmd-common-module-definition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cmd-common-module-definition"}},[t._v("#")]),t._v(" CMD (Common Module Definition)")]),t._v(" "),a("p",[t._v("（浏览器端）")]),t._v(" "),a("p",[t._v("Sea.js")]),t._v(" "),a("h2",{attrs:{id:"最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[t._v("#")]),t._v(" 最佳实践")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab970a3178a04fbc96c31a218f0255d1~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("h1",{attrs:{id:"还需要改进"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#还需要改进"}},[t._v("#")]),t._v(" 还需要改进")]),t._v(" "),a("ul",[a("li",[t._v("ES Modules 存在环境兼容问题")]),t._v(" "),a("li",[t._v("模块文件过多，网络请求频繁")]),t._v(" "),a("li",[t._v("所有前端资源都需要模块化")])]),t._v(" "),a("p",[t._v("这就需要打包工具了")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/408e4f88e71349eebc4527481b3d3ea9~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("打包工具解决的是前端整体的模块化，并不单指JavaScript模块化")])])}),[],!1,null,null,null);s.default=e.exports}}]);