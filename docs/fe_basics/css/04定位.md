
# 1. 为什么需要
标准流和浮动无法做到：
- 某个元素可以自由的在一个盒子内移动位置，并且压住其他盒子
- 滚动窗口时，盒子固定在屏幕的某个位置


# 2. 定位组成
将盒子==定==在某一==位==置，所以定位也是在摆放盒子，按照定位的方式移动盒子。
### 定位 = 定位模式 + 边偏移

## 2.1 定位模式

用于指定一个元素在文档中的定位方式
通过CSS的position属性设置
```css
position: static;   /*静态定位*/
position: relative; /*相对定位*/
position: absolute; /*绝对定位*/
position: fixed;    /*固定定位*/
```

## 2.2边偏移
决定了该元素的最终位置
```css
top: 80px;    /*顶端偏移量，定义元素相对于其父元素上边线的距离*/
bottom: 80px; /*底部偏移量，定义元素相对于其父元素下边线的距离*/
left: 80px;   /*左侧偏移量，定义元素相对于其父元素左边线的距离*/
right: 80px;  /*右侧偏移量，定义元素相对于其父元素右边线的距离*/
```

# 3. 静态定位 static （了解）
默认定位方式，无定位的意思
```css
选择器 {
    position: static;
}
```
- 按照标准流特性摆放位置，没有边偏移
- 在布局中很少使用

# 4. 相对定位 relative （重要）
元素在移动位置的时候，是相对于它==原来位置==来说的。
```css
选择器 {
    position: relative;
}
```
- 移动位置时照点是自己原来的位置
- 原来在标准流的位置继续占有，后面的盒子仍然以标准流的方式对待它。（不脱标，继续保留原来位置）

# 5. 绝对定位 absolute （重要）
元素在移动位置时，相对于它==祖先元素==来说的
```css
选择器 {
    position: absolute;
}
```
- 如果没有祖先元素或者祖先元素没有定位，则以浏览器为准定位（Document文档）
- 如果祖先元素有定位（相对，绝对，固定），则以最近一级的有定位祖先元素为参考点移动位置
- 绝对定位不再占有原先的位置（脱标）

# 6. 子绝父相的由来
问题
- 绝对定位和相对定位到底有什么使用场景？
- 为什么说相对定位给绝对定位当爹的呢？

## 子级使用绝对定位，父级则需要相对定位

- 子级绝对定位，不会占用位置，可以放到父盒子里面的任何一个地方，不会影响其他的兄弟盒子
- 父盒子需要加定位限制子盒子在父盒子内显示
- 父盒子布局时，需要占有位置，因此父亲只能是相对定位

#### 相对定位经常用来作为绝对定位的父级

#### 因为父级需要占有位置，因此是相对定位，子盒子不需要占有位置，则是绝对定位

#### 子绝父相不是永远不变的，如果父元素不需要占有位置，子绝父绝也会遇到

# 6. 固定定位 fixed （重要）
元素固定于浏览器可视区的位置<br >
主要使用场景：可以在浏览器页面滚动时元素的位置不会改变
```css
选择器 {
    position: fixed;
}
```
- 以浏览器的可视窗口为参照点移动元素
- 跟父元素没有任何关系
- 不随滚动条滚动
- 固定定位不占有原先的位置

固定定位也是脱标的，其实固定定位也可以看做是一种特殊的绝对定位

### 小技巧：固定版心右侧位置
1. 让固定定位的盒子left: 50%; 走到浏览器可视区（也可以看做版心）的一半位置
2. 让固定定位的盒子margin-left: 版心宽度的一半距离; 多走版心宽度的一半位置


# 7. 粘性定位 sticky （了解）
可以被认为是相对定位和固定定位的混合
```css
选择器 {
    position: sticky;
    top: 10px;
}
```
- 以浏览器的可视窗口为参照点移动元素（固定定位特点）
- 占有原先位置 （相对定位）
- 必须添加top、left、right、bottom其中一个才有效
- 跟页面滚动搭配使用。兼容性较差 IE不支持


# 8. 总结
定位模式|是否脱标|移动位置|是否常用
---|---|---|---
静态定位static|否|不能使用边偏移|很少
相对定位relative|否（占有位置）|相对于自身位置偏移|常用
绝对定位absolute|是（不占有位置）|带有定位的父级|常用
固定定位fixed|是（不占有位置）|浏览器可视区|常用
粘性定位sticky|否（占有位置）|浏览器可视区|当前阶段少

# 9. 定位叠放次序 z-index
使用定位布局时，可能会出现盒子重叠的情况。此时，可以使用z-index来控制盒子的前后次序（z轴）
```css
选择器 {
    z-index: 1;
}
```
- 数值可以正整数、负整数、0， 默认为auto， 数值越大，盒子越靠上
- 如果属性值相同，则按照书写顺序，后来居上
- 数字后面不能加单位
- 只有定位的盒子才有z-index属性


# 10. 定位的拓展
### 10.1 绝对定位的盒子居中
```css
left: 50%; 让盒子的左侧移动到父级元素的水平中心位置
margin-left:-100px; /*让盒子向左移动自身宽度的一半*/
```

### 10.2 定位特殊特性
- 行内元素添加绝对或固定定位，可以直接设置高度和宽度
- 块级元素添加绝对或者固定定位，如果不给宽度或者高度，默认大小是内容的大小

### 10.3 脱标的盒子不会触发外边距塌陷
浮动元素、绝对定位（固定定位）元素的都不会出发外边距合并的问题

### 10.4 绝对定位（固定定位）会完全压住盒子
- 浮动元素不同，只会压住它下面标准流的盒子，但是不会压住下面标准流盒子里面的文字（图片）
- 绝对定位（固定定位）会压住下面标准流的所有内容
- 浮动之所以不会压住文字，因为浮动产生的目的最初是为了做文字环绕效果的。文字会围绕浮动元素

