---
theme: vue-pro
highlight: a11y-dark
---

> å—¨ï¼~ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯YKèŒ ğŸ· ï¼Œä¸€ä¸ªå¾®ç³»å‰ç«¯ âœ¨ï¼Œçˆ±æ€è€ƒï¼Œçˆ±æ€»ç»“ï¼Œçˆ±è®°å½•ï¼Œçˆ±åˆ†äº« ğŸ¹ï¼Œæ¬¢è¿å…³æ³¨æˆ‘å‘€ ğŸ˜˜ ~ [å¾®ä¿¡å·: `yk2012yk2012`ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼š`ykyk2012`]


ã€Œè¿™æ˜¯æˆ‘å‚ä¸11æœˆæ›´æ–‡æŒ‘æˆ˜çš„ç¬¬24å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[2021æœ€åä¸€æ¬¡æ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/7023643374569816095/ "https://juejin.cn/post/7023643374569816095/")ã€

> ä»Šå¤©æˆ‘ä»¬ä¸»è¦æ¥ç”¨Vueåšä¸€ä¸ªå°demoï¼Œä¸€ä¸ªåŠ¨æ€è¯„ä»·é¡µé¢çš„å°demoï¼Œä¸»è¦æ˜¯ä¸ºäº†ç»ƒä¹ ä¹‹å‰å­¦ä¹ è¿‡çš„ä¸€äº›çŸ¥è¯†



# 1. ç›®æ ‡åŠŸèƒ½ç•Œé¢
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/927e4024cc3f4f62a9ef982e16614bda~tplv-k3u1fbpfcp-zoom-1.image)
[é¡¹ç›®ä»£ç ï¼šhttps://github.com/yk2012/vue_demo/tree/main/demo2_Comments](https://github.com/yk2012/vue_demo/tree/main/demo2_Comments)
# 2. ç•Œé¢æ¨¡å—æ‹†åˆ†
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fe99bc9604741dd8909f61c38a91082~tplv-k3u1fbpfcp-zoom-1.image)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/433cbe122d554eeaba8ae82ac9f04feb~tplv-k3u1fbpfcp-zoom-1.image)

# 3. ä¸»é¡µ index.html
åœ¨headæ ‡ç­¾é‡Œå¼•å…¥bootstrap.cssæ–‡ä»¶
```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>vue_demo</title>
    <link rel="stylesheet" href="./static/css/bootstrap.css">
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
```
# 4. é™æ€é¡µé¢æ­å»º
## 4.1 main.js
- æ‰“åŒ…å…¥å£jsæ–‡ä»¶ï¼ŒåæœŸå…¨éƒ¨æ‰“åŒ…å½¢æˆä¸€ä¸ªapp.jsåœ¨ä¸»é¡µindex.htmlä¸­

```javascript
import Vue from 'vue'
import App from './App.vue'

new Vue({
    el: '#app',
    components: {
        App
    },
    template: '<App/>'
})
```
## 4.2 App.vue
1. å¼•å…¥æ ‡ç­¾ import 
2. æ˜ å°„ç»„ä»¶æ ‡ç­¾ components
3. ä½¿ç”¨ç»„ä»¶æ ‡ç­¾
```html
<template>
  <div>
    <header class="site-header jumbotron">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <h1>è¯·å‘è¡¨å¯¹Vueçš„è¯„è®º</h1>
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <!-- *3* ä½¿ç”¨ç»„ä»¶æ ‡ç­¾ -->
      <Add />
      <List />
    </div>
  </div>
</template>

<script>
<script>
  // *1* å¼•å…¥ç»„ä»¶
  import Add from './components/Add'
  import List from './components/List'

  export default {
    // *2* æ˜ å°„ç»„ä»¶æ ‡ç­¾
    components: {
      Add,
      List
    }
  }
</script>
</script>

<style>

</style>
```
## 4.3 Add.vue

```html
<template>
  <div class="col-md-4">
    <form class="form-horizontal">
      <div class="form-group">
        <label>ç”¨æˆ·å</label>
        <input type="text" class="form-control" placeholder="ç”¨æˆ·å">
      </div>
      <div class="form-group">
        <label>è¯„è®ºå†…å®¹</label>
        <textarea class="form-control" rows="6" placeholder="è¯„è®ºå†…å®¹"></textarea>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
        <button type="button" class="btn btn-default pull-right">æäº¤</button>
        </div>
      </div>
    </form>
  </div>
</template>

<script>
  export default {

  }
</script>

<style>

</style>
```

## 4.4 List.vue

```html
<template>
  <div class="col-md-8">
    <h3 class="reply">è¯„è®ºå›å¤ï¼š</h3>
    <h2 style='display: none'>æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®ºï¼ï¼ï¼</h2>
    <ul class="list-group">
      <li class="list-group-item">
        <div class="handle">
          <a href="javascript:;">åˆ é™¤</a>
        </div>
        <p class="user"><span >xxx</span><span>è¯´:</span></p>
        <p class="centence">Reactä¸é”™!</p>
      </li>
      <li class="list-group-item">
        <div class="handle">
          <a href="javascript:;">åˆ é™¤</a>
        </div>
        <p class="user"><span >yyy</span><span>è¯´:</span></p>
        <p class="centence">Reactæœ‰ç‚¹éš¾!</p>
      </li>
    </ul>
  </div>
</template>

<script>
  export default {

  }
</script>

<style>
.reply {
  margin-top: 0px;
}

li {
  transition: .5s;
  overflow: hidden;
}

.handle {
  width: 40px;
  border: 1px solid #ccc;
  background: #fff;
  position: absolute;
  right: 10px;
  top: 1px;
  text-align: center;
}

.handle a {
  display: block;
  text-decoration: none;
}

.list-group-item .centence {
  padding: 0px 50px;
}

.user {
  font-size: 22px;
}
</style>
```


## 4.5 å±•ç¤º

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/58ed085269b645f89f9561bd62cfb859~tplv-k3u1fbpfcp-zoom-1.image)
# 5. åŠ¨æ€ç»„ä»¶
## 5.1 åŠ¨æ€æ˜¾ç¤ºåˆå§‹åŒ–æ•°æ®
- æ•°æ®dataï¼šç”¨æˆ·å+è¯„è®ºå†…å®¹
- ç”¨æ•°ç»„å­˜å‚¨ []
- æ•°æ®æ”¾åœ¨Appç»„ä»¶ä¸­
### 5.1.1 App.vue
```html
<template>
  <div>
    <header class="site-header jumbotron">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <h1>è¯·å‘è¡¨å¯¹Vueçš„è¯„è®º</h1>
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <!-- *3* ä½¿ç”¨ç»„ä»¶æ ‡ç­¾ -->
      <add />
      <list :comments="comments" />
    </div>
  </div>
</template>

<script>
    // *1* å¼•å…¥ç»„ä»¶
import Add from './components/Add'
import List from './components/List'

  export default {
    data(){
      return {
        comments: [
          {
            name:'Bob',
            content: 'Vue so easy.'
          },
          {
            name: 'Cat',
            content: 'Vue so so.'
          }
        ]
      }
    },
    // *2* æ˜ å°„ç»„ä»¶æ ‡ç­¾
    components: {
      Add,
      List
    }
  }
</script>

<style>

</style>



```


### 5.1.2 List.vue

```html
<template>
  <div class="col-md-8">
    <h3 class="reply">è¯„è®ºå›å¤ï¼š</h3>
    <h2 style='display: none'>æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®ºï¼ï¼ï¼</h2>
    <ul class="list-group">
      <item v-for="(comment, index) in comments" :key="index" :comment="comment" />
    </ul>
  </div>
</template>

<script>
import Item from './Item.vue'
export default {
  //å£°æ˜æ¥æ”¶å±æ€§, è¿™ä¸ªå±æ€§å°±ä¼šæˆä¸ºç»„ä»¶å¯¹è±¡çš„å±æ€§
  props: ['comments'],
  
  components: { Item },
}
</script>

<style>
.reply {
  margin-top: 0px;
}


</style>
```

### 5.1.3 Item.vue

```html
<template>
  <li class="list-group-item">
    <div class="handle">
      <a href="javascript:;">åˆ é™¤</a>
    </div>
    <p class="user"><span >{{comment.name}}</span><span>è¯´:</span></p>
    <p class="centence">{{comment.content}}</p>
  </li>
</template>

<script>
export default {
  props:{ // æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼çš„ç±»å‹
    comment: Object,
  }
}
</script>

<style>
li {
  transition: .5s;
  overflow: hidden;
}

.handle {
  width: 40px;
  border: 1px solid #ccc;
  background: #fff;
  position: absolute;
  right: 10px;
  top: 1px;
  text-align: center;
}

.handle a {
  display: block;
  text-decoration: none;
}

.list-group-item .centence {
  padding: 0px 50px;
}

.user {
  font-size: 22px;
}
</style>
```

### 5.1.4 å±•ç¤º
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/889a1970298b4c74b8422f6f7e225db6~tplv-k3u1fbpfcp-zoom-1.image)
## 5.2 åŠ¨æ€äº¤äº’â€”â€”æ·»åŠ æ“ä½œ
### App.vue
- æ•°æ®åœ¨å“ªä¸ªç»„ä»¶ï¼Œæ›´æ–°æ•°æ®çš„è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰å°±å®šä¹‰åœ¨å“ªä¸ªç»„ä»¶
- å®šä¹‰æ·»åŠ è¯„è®ºå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰
-  ä¼ é€’ç»™Add.vue

```html
<template>
    <add :addComment="addComment "/>
</template>

<script>
  export default {
    methods:{
      // æ·»åŠ è¯„è®º
      addComment(comment){
        this.comments.unshift(comment);
      }
    },
  }
</script>

```
### Add.vue
- ç»™æŒ‰é’®æ·»åŠ äº‹ä»¶ @click
1. æ£€æŸ¥è¾“å…¥çš„åˆæ³•æ€§
2. æ ¹æ®è¾“å…¥çš„æ•°æ®ï¼Œå°è£…æˆä¸€ä¸ªcommentå¯¹è±¡
3. æ·»åŠ åˆ°commentsä¸­
4. æ¸…é™¤è¾“å…¥
- ä»è¾“å…¥æ¡†æ‹¿æ•°æ® v-model
- å®šä¹‰data
- æ·»åŠ æ–¹æ³•add

```html
<template>
  <input type="text" class="form-control" placeholder="ç”¨æˆ·å" v-model="name">
  <textarea class="form-control" rows="6" placeholder="è¯„è®ºå†…å®¹" v-model="content"></textarea>
  <button type="button" class="btn btn-default pull-right" @click="add">æäº¤</button>
</template>

<script>
  export default {
    props:{
      addComment: { //å®Œæ•´çš„å†™æ³•ï¼ˆæŒ‡å®šå±æ€§å/å±æ€§å€¼ç±»å‹/å±æ€§å¿…è¦æ€§ï¼‰
        type:Function,
        required: true
      }
    },
    data(){ // è¦ä»é¡µé¢æ‹¿æ•°æ®ï¼Œç”¨v-model 
      return {
        name: '',
        content: ''
      }
    },
    methods: {
      add(){
        // 1. æ£€æŸ¥è¾“å…¥çš„åˆæ³•æ€§
        const name = this.name.trim();
        const content = this.content.trim();
        if(!name || !content){
          alert("å§“åå’Œå†…å®¹ä¸èƒ½ä¸ºç©º");
          return;
        }
        // 2. æ ¹æ®è¾“å…¥çš„æ•°æ®ï¼Œå°è£…æˆä¸€ä¸ªcommentå¯¹è±¡
        const comment = {
          name,
          content
        };
        // 3. æ·»åŠ åˆ°commentsä¸­
        this.addComment(comment);
        // 4. æ¸…é™¤è¾“å…¥
        this.name='';
        this.content='';
      }
    }
  }
</script>
```

## 5.3 åŠ¨æ€äº¤äº’â€”â€”åˆ é™¤æ“ä½œ
### App.vue
```html
<template>
  <list :comments="comments" :deleteComment="deleteComment" />
</template>

<script>
  export default {
    methods:{
      deleteComment(index){
        this.comments.splice(index, 1);
      }
    },
</script>
```
### List.vue

```html
<template>
  <div class="col-md-8">
    <h3 class="reply">è¯„è®ºå›å¤ï¼š</h3>
    <h2 v-show="comments.length===0">æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®ºï¼ï¼ï¼</h2>
    <ul class="list-group">
      <item v-for="(comment, index) in comments" :key="index" :comment="comment" :deleteComment="deleteComment" :index="index" />
    </ul>
  </div>
</template>

<script>
import Item from './Item.vue'
export default {
  //å£°æ˜æ¥æ”¶å±æ€§, è¿™ä¸ªå±æ€§å°±ä¼šæˆä¸ºç»„ä»¶å¯¹è±¡çš„å±æ€§
  props: ['comments',"deleteComment"],

  components: { Item },
}
</script>
```
### Item.vue

```html
<template>
  <li class="list-group-item">
    <div class="handle">
      <a href="javascript:;" @click="deleteItem">åˆ é™¤</a>
    </div>
    <p class="user"><span >{{comment.name}}</span><span>è¯´:</span></p>
    <p class="centence">{{comment.content}}</p>
  </li>
</template>

<script>
export default {
  props:{ // æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼çš„ç±»å‹
    comment: Object,
    deleteComment: Function,
    index: Number
  },
  methods: {
    deleteItem(){
      const {comment, index, deleteComment} = this;
      if(window.confirm(`ç¡®å®šåˆ é™¤${comment.name}å—ï¼Ÿ`)){
        deleteComment(index);
      }
    }
  }
}
</script>
```
[é¡¹ç›®ä»£ç ï¼šhttps://github.com/yk2012/vue_demo/tree/main/demo2_Comments](https://github.com/yk2012/vue_demo/tree/main/demo2_Comments)




> æœ€åï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œå’Œ**YKèŒ**åšå¥½æœ‹å‹

