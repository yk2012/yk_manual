---
theme: vue-pro
highlight: a11y-dark
---

> å—¨ï¼~ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯YKèŒ ğŸ· ï¼Œä¸€ä¸ªå¾®ç³»å‰ç«¯ âœ¨ï¼Œçˆ±æ€è€ƒï¼Œçˆ±æ€»ç»“ï¼Œçˆ±è®°å½•ï¼Œçˆ±åˆ†äº« ğŸ¹ï¼Œæ¬¢è¿å…³æ³¨æˆ‘å‘€ ğŸ˜˜ ~ [å¾®ä¿¡å·: `yk2012yk2012`ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼š`ykyk2012`]


ã€Œè¿™æ˜¯æˆ‘å‚ä¸11æœˆæ›´æ–‡æŒ‘æˆ˜çš„ç¬¬22å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[2021æœ€åä¸€æ¬¡æ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/7023643374569816095/ "https://juejin.cn/post/7023643374569816095/")ã€

> ä»Šå¤©æˆ‘ä»¬ä¸»è¦æ¥å­¦ä¹ Vueä¸­çš„è¿‡æ»¤å™¨Vue.filter



# 1. ç†è§£è¿‡æ»¤å™¨


å®šä¹‰ï¼šå¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤ºï¼ˆé€‚ç”¨äºä¸€äº›ç®€å•é€»è¾‘çš„å¤„ç†ï¼‰ã€‚

è¯­æ³•ï¼š
1. æ³¨å†Œè¿‡æ»¤å™¨ï¼š`Vue.filter(name,callback)` æˆ– `new Vue{filters:{}}`
2. ä½¿ç”¨è¿‡æ»¤å™¨ï¼š`{{ xxx | è¿‡æ»¤å™¨å}}`  æˆ–  `v-bind:å±æ€§ = "xxx | è¿‡æ»¤å™¨å"`

å¤‡æ³¨ï¼š
1. è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥æ¥æ”¶é¢å¤–å‚æ•°ã€å¤šä¸ªè¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ä¸²è”
2. å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®, æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®


# 2. ç¼–ç 
## 1). å®šä¹‰è¿‡æ»¤å™¨
å…¨å±€è¿‡æ»¤å™¨
```javascript
Vue.filter(filterName, function(value[,arg1,arg2,...]){
  // è¿›è¡Œä¸€å®šçš„æ•°æ®å¤„ç†
  return newValue
})
```

å±€éƒ¨è¿‡æ»¤å™¨
```javascript
new Vue{
    filters:{
        filterName(value){
            return newValue
        }
    }
}
```



## 2). ä½¿ç”¨è¿‡æ»¤å™¨

```html
<div>{{myData | filterName}}</div>
<div>{{myData | filterName(arg)}}</div>
```

# ç¤ºä¾‹
```html
<body>
    <div id="demo">
        <h2>æ˜¾ç¤ºæ ¼å¼åŒ–çš„æ—¥æœŸæ—¶é—´</h2>
        <p>{{date}}</p> 
        <p>å®Œæ•´ç‰ˆï¼š{{date | dateString}}</p>
        <p>å¹´æœˆæ—¥ï¼š{{date | dateString('YYYY-MM-DD')}}</p>
        <p>æ—¶åˆ†ç§’ï¼š{{date | dateString('HH:mm:ss')}}</p>
    </div>

    <script src="../js/vue.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js"></script>
    <script>
        Vue.filter('dateString', function(value, format='YYYY-MM-DD HH:mm:ss'){
            return moment(value).format(format);
        });

        new Vue({
            el: '#demo',
            data: {
                date: new Date()
            }
        })
    </script>
</body>
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/031b0bb1faf94b79a0fda87ea9b962f2~tplv-k3u1fbpfcp-zoom-1.image)


ä½¿ç”¨dayjs
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>è¿‡æ»¤å™¨</title>
    <script type="text/javascript" src="../js/vue.js"></script>
    <script type="text/javascript" src="../js/dayjs.min.js"></script>
</head>
<body>
    <!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨-->
    <div id="root">
        <h2>æ˜¾ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´</h2>
        <!-- è®¡ç®—å±æ€§å®ç° -->
        <h3>ç°åœ¨æ˜¯ï¼š{{fmtTime}}</h3>
        <!-- methodså®ç° -->
        <h3>ç°åœ¨æ˜¯ï¼š{{getFmtTime()}}</h3>
        <!-- è¿‡æ»¤å™¨å®ç° -->
        <h3>ç°åœ¨æ˜¯ï¼š{{time | timeFormater}}</h3>
        <!-- è¿‡æ»¤å™¨å®ç°ï¼ˆä¼ å‚ï¼‰ -->
        <h3>ç°åœ¨æ˜¯ï¼š{{time | timeFormater('YYYY_MM_DD') | mySlice}}</h3>
        <h3 :x="msg | mySlice">å°šç¡…è°·</h3>
    </div>

<div id="root2">
    <h2>{{msg | mySlice}}</h2>
</div>
</body>

<script type="text/javascript">
    Vue.config.productionTip = false
    //å…¨å±€è¿‡æ»¤å™¨
    Vue.filter('mySlice',function(value){
        return value.slice(0,4)
    })

    new Vue({
        el:'#root',
        data:{
            time:1621561377603, //æ—¶é—´æˆ³
            msg:'ä½ å¥½ï¼Œå°šç¡…è°·'
        },
        computed: {
            fmtTime(){
                return dayjs(this.time).format('YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss')
            }
        },
        methods: {
            getFmtTime(){
                return dayjs(this.time).format('YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss')
            }
        },
        //å±€éƒ¨è¿‡æ»¤å™¨
        filters:{
            timeFormater(value,str='YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss'){
                // console.log('@',value)
                return dayjs(value).format(str)
            }
        }
    })

    new Vue({
        el:'#root2',
        data:{
            msg:'hello,atguigu!'
        }
    })
</script>
</html>
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5ca5a912d12a472aa622bae6d592b646~tplv-k3u1fbpfcp-zoom-1.image)


# moment.js
å…¶ä¸­ä½¿ç”¨åˆ°äº†moment.js
[ä¸­æ–‡ç½‘](http://momentjs.cn/) http://momentjs.cn/

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/926f3d0a3f1646e0aba221a967884fcc~tplv-k3u1fbpfcp-zoom-1.image)

## å¼•å…¥

```html
<script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js"></script>
```

## ç”¨æ³•

1. æ—¥æœŸæ ¼å¼åŒ–
```javascript
moment().format('MMMM Do YYYY, h:mm:ss a'); // ä¸€æœˆ 25æ—¥ 2021, 9:51:41 æ™šä¸Š
moment().format('dddd');                    // æ˜ŸæœŸä¸€
moment().format("MMM Do YY");               // 1æœˆ 25æ—¥ 21
moment().format('YYYY [escaped] YYYY');     // 2021 escaped 2021
moment().format();                          // 2021-01-25T21:51:41+08:00
```
2. ç›¸å¯¹æ—¶é—´
```javascript
moment("20111031", "YYYYMMDD").fromNow(); // 9 å¹´å‰
moment("20120620", "YYYYMMDD").fromNow(); // 9 å¹´å‰
moment().startOf('day').fromNow();        // 1 å¤©å‰
moment().endOf('day').fromNow();          // 2 å°æ—¶å†…
moment().startOf('hour').fromNow();       // 1 å°æ—¶å‰
```
3. æ—¥å†æ—¶é—´

```javascript
moment().subtract(10, 'days').calendar(); // 2021/01/15
moment().subtract(6, 'days').calendar();  // ä¸Šæ˜ŸæœŸäºŒ21:51
moment().subtract(3, 'days').calendar();  // ä¸Šæ˜ŸæœŸäº”21:51
moment().subtract(1, 'days').calendar();  // æ˜¨å¤©21:51
moment().calendar();                      // ä»Šå¤©21:51
moment().add(1, 'days').calendar();       // æ˜å¤©21:51
moment().add(3, 'days').calendar();       // ä¸‹æ˜ŸæœŸå››21:51
moment().add(10, 'days').calendar();      // 2021/02/04
```
4. å¤šè¯­è¨€æ”¯æŒ

```javascript
moment.locale();         // zh-cn
moment().format('LT');   // 21:51
moment().format('LTS');  // 21:51:41
moment().format('L');    // 2021/01/25
moment().format('l');    // 2021/1/25
moment().format('LL');   // 2021å¹´1æœˆ25æ—¥
moment().format('ll');   // 2021å¹´1æœˆ25æ—¥
moment().format('LLL');  // 2021å¹´1æœˆ25æ—¥æ™šä¸Š9ç‚¹51åˆ†
moment().format('lll');  // 2021å¹´1æœˆ25æ—¥ 21:51
moment().format('LLLL'); // 2021å¹´1æœˆ25æ—¥æ˜ŸæœŸä¸€æ™šä¸Š9ç‚¹51åˆ†
moment().format('llll'); // 2021å¹´1æœˆ25æ—¥æ˜ŸæœŸä¸€ 21:51
```


> æœ€åï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œå’Œ**YKèŒ**åšå¥½æœ‹å‹



